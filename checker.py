#!/usr/bin/env python3

import base64
import fileinput
import json
import requests
import sys
import webbrowser
import zlib


CHECKER_SERVER = 'https://server.alviano.net/utils/lp-cp/checker/db6d8ff3-9f6d-4c6a-9c42-c098de3738a2'
#CHECKER_SERVER = 'http://localhost:8000/utils/lp-cp/checker/db6d8ff3-9f6d-4c6a-9c42-c098de3738a2'

RECIPES = [
    "https://asp-chef.alviano.net/#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%21",
    "https://asp-chef.alviano.net/#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%21",
    "https://asp-chef.alviano.net/#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%21",
    "https://asp-chef.alviano.net/#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%21",
    "https://asp-chef.alviano.net/#eJylVcuWqjgU/aCeAGr1YliiQJDEhaCQzARKCQSwm1IeX98nWNalvFWDu3rEyk7OPs99eOudS1wt1dRAL2HviKRybgnPGhoRxV15F5cvP7FjuBDuai2xD5tzB+cG+8UVWeKa2AdlI8+8HTb+/Azv2zTyauy3g7uiT3ZeszW+2hG/7TB/wnjbkZFfV1P72ecUQw3unzHc4ABJv7c02j1igbzWqowvnh2Uqe+vGPB9h33k9gXrf39HjOd3+Bs+/A0flnz9V8z7xtaTthLjkd9yFi7yWNuJSLvXDuWXkobdwOSddfi4e9QGvaS2o8q7pDzkx2gp4H38BrPA4A7le2W7MgscFHM3MDm2vHdi7butr2bbVcrdwMlxSFWWZxmx1irtUYNKvWWRk6WWuMUcOAQRNHLyo7Ek0ndsY+4aMEf27hJriwH8/Y0qosSzV74tWRbbRMB9ltjL5s2fxKdlt7RHL6w0m0Tbg59MHMO0ljng/LUFmz4NO5HAG1QmNeRa0ujQpDZukLW4wfkEHFli7etkZqoQk9j47Tku9YId9J6Gu0sa4RoHrxfXWF7vdWK3uPLqyEAdsZdzZKk3eD8klpmzcJcgXlxc0V0ja1FtRh/7Ws6Q7xeSo3wzMmeTo1b6YVVRQ5wSb2joiNjIthu/OG+5MtFH57jr+cjJ+myMYWNkj5ltkIl+5N6Y6F/Qwj8/+ficl5GjA3yRxFCnMX//XD/uwRa76+IieammN/EM1TAbxYMHettLLAZtMr/DYw0f3Ov2j7njmZPFZSp+5zeH1PiJvz37/utfaLWG2s/lPF3TUOUsQnybrxtUOdkxIuMsPObnXuPdCfbZCXxfk9kOei6uMB/TuStYSO6zYjuCWSKn0Q40UfNI1TnYCpLvTtE456AXSz899MZMHb4LBc6/NAdGrt2Ab49vucNJCNpZUYUYaslClruBp9Ihed8GWUl8tST5XiWBN8caamlJ7zqxDj3EAFqZSw47Kc32aNx1NmqsgvirhkM+t8SY6sNsE6tbQCxKUh1kbgPEO5ucaxaK6mhDbLnXYqPlT1oAHEldtbL/x5CApvcyhgpxuWdIHU/1WD10Dvrj6Nd5rEsH/w3AKyFiq5M6nt4rLMqUSCO32NJ7WWvpD1XT2qEFC3FHtfWc9Eq3DUgGtVNIuX+nJdTeV1o8iIKGhxKvoG8B/q52AYP9QGfeeT/pbdL/r1p+7tbkK+fkH+qkp0hpPncqdJkOXge7VIMcOhbQd7LaD7hX5izHCzfclSwnAq+YwJrX/bBTb0nlnT3NhB2xuFDNbGRP4tlSOYYw2+Af/A2ppbfTGGm0bGO7gBx3sCvHnoH+ko/zQT8dVP0/zW/BCg==%21",
    "https://asp-chef.alviano.net/#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%21",
]


def compress_object_for_url(obj: object, *, suffix: str = '%21'):
    json_dump = json.dumps(obj, separators=(',', ':')).encode()
    json_dump = base64.b64encode(json_dump)
    return base64.b64encode(zlib.compress(json_dump)).decode() + suffix



args = [arg for arg in sys.argv if arg != "--no-browser"]
no_browser = bool([arg for arg in sys.argv if arg == "--no-browser"])

if len(args) != 3:
    sys.exit("ERROR: missing problem-ID and instance-ID in command parameters")

try:
    problem = int(sys.argv[1])
    instance = int(sys.argv[2])
except ValueError:
    sys.exit("ERROR: problem-ID and instance-ID must be integers")

if problem < 0 or problem > 5:
    sys.exit("ERROR: invalid problem-ID")
if instance < 1 or instance > 5:
    sys.exit("ERROR: invalid instance-ID")

solution = ''.join(fileinput.input("-"))

url = f'{CHECKER_SERVER}/{problem}/{instance}/'

res = requests.post(url, data={"value": solution})
j = res.json()
if 'message' in j:
    print('\n'.join(j['message'].split('\n')[1:]))
    if not no_browser:
        webbrowser.open(
            RECIPES[problem].replace("/#", "/open#" + compress_object_for_url({"input": j['message']}, suffix="") + ";", 1)
        )
else:
    print('WRONG RESPONSE RECEIVED!')
    print(res)
    print(j)
